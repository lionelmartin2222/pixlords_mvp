<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixlords: Sé el Señor de los Píxeles</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>PIXLORDS</h1> 
        <p>¡Sé el Señor de los Píxeles!</p>
        <div id="wallet-info">
            <button id="connect-wallet" class="action-btn">Conectar Billetera (MetaMask)</button>
            <p>Estado: <span id="status-message">Desconectado</span></p>
        </div>
    </header>
    
    <main>
        <div id="cart-bar">
            <span id="cart-summary">Cesta: 0 píxeles seleccionados | Total: 0.00 USDC</span>
            <div>
                <button id="pay-batch-btn" class="action-btn" disabled>Pagar Lote</button>
                <button id="clear-cart-btn" class="action-btn">Limpiar Cesta</button>
            </div>
        </div>
        
        <div id="pixel-map-container">
    </div>
        </div>
    </main>

    <div id="modal-backdrop" style="display: none;">
        <div id="pixel-modal">
            <h2>Información del Píxel <span id="modal-coords"></span></h2>
            <p><strong>Precio:</strong> <span id="modal-price"></span></p>
            <p><strong>Propietario:</strong> <span id="modal-owner"></span></p>
            <p><strong>Color Actual:</strong> <span id="modal-color-display"></span></p>
            
            <div id="buy-controls">
                <button id="buy-pixel-btn" class="action-btn">Comprar</button>
            </div>

            <div id="owner-controls" style="display: none;">
                <p style="color: #39FF14;">Control del Propietario:</p>
                <label for="new-color">Nuevo Color:</label>
                <input type="color" id="new-color" value="#008000">
                <button id="set-color-btn" class="action-btn">Cambiar Color</button>
                
                <hr style="border-top: 1px dashed #555; margin: 10px 0;">

                <label for="new-price">Nuevo Precio (USDC):</label>
                <input type="number" id="new-price" min="1.01" value="1.50" step="0.01">
                <button id="sell-pixel-btn" class="action-btn">Poner en Venta</button>
            </div>
            
            <button id="close-modal-btn" class="action-btn" style="margin-top: 15px;">Cerrar</button>
        </div>
    </div>

    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script> 
    <script src="app.js"></script>
</body>
</html>
